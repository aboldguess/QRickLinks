{% extends 'admin_base.html' %}
{% block content %}
<h2>Password Reset Configuration</h2>
<p class="text-muted">Set up email details for sending password reset links. Leave the server blank to output links to the console instead.</p>
<form method="post">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  <div class="mb-3">
    <label for="smtp_server" class="form-label">SMTP Server</label>
    <input type="text" class="form-control" id="smtp_server" name="smtp_server" value="{{ settings.smtp_server }}">
  </div>
  <div class="mb-3">
    <label for="smtp_port" class="form-label">SMTP Port</label>
    <input type="number" class="form-control" id="smtp_port" name="smtp_port" value="{{ settings.smtp_port }}">
  </div>
  <div class="mb-3">
    <label for="smtp_username" class="form-label">Username</label>
    <input type="text" class="form-control" id="smtp_username" name="smtp_username" value="{{ settings.smtp_username }}">
  </div>
  <div class="mb-3">
    <label for="smtp_password" class="form-label">Password</label>
    <input type="password" class="form-control" id="smtp_password" name="smtp_password" value="{{ settings.smtp_password }}">
  </div>
  <div class="form-check mb-3">
    <input class="form-check-input" type="checkbox" id="smtp_use_tls" name="smtp_use_tls" {% if settings.smtp_use_tls %}checked{% endif %}>
    <label class="form-check-label" for="smtp_use_tls">Use TLS</label>
  </div>
  <div class="mb-3">
    <label for="smtp_sender" class="form-label">Sender Address</label>
    <input type="email" class="form-control" id="smtp_sender" name="smtp_sender" value="{{ settings.smtp_sender }}">
  </div>
  <div class="mb-3">
    <label for="reset_token_hours" class="form-label">Token Expiry (hours)</label>
    <input type="number" class="form-control" id="reset_token_hours" name="reset_token_hours" value="{{ settings.reset_token_hours }}" min="1">
  </div>
  <button type="submit" class="btn btn-primary">Save</button>
</form>
{% endblock %}
